-- View definitions

CREATE VIEW REFAPP.USERS_V
(USERNAME, FIRSTNAME, LASTNAME, BIRTHDATE, GENDER, EMAIL, PHONE,
ADDRESS, POSTALCODE, MUNICIPALITY, REGION, COUNTRY, STATUS, CREATED, MODIFIED)
AS SELECT U.USERNAME, I.FIRSTNAME, I.LASTNAME, I.BIRTHDATE, I.GENDER, I.EMAIL, I.PHONE,
D.ADDRESS, D.POSTALCODE, D.MUNICIPALITY, D.REGION, D.COUNTRY, S.STATUS, S.CREATED, S.MODIFIED
FROM REFAPP.USERS U, REFAPP.USER_INFO I, REFAPP.USER_ADDRESS D, REFAPP.USER_STATUS S
WHERE U.ID = I.USER_ID AND U.ID = S.USER_ID AND U.ID = D.USER_ID;

CREATE VIEW REFAPP.NOTES_V
(TITLE, NOTE, STATUS, CREATED, MODIFIED)
AS SELECT N.TITLE, N.NOTE, S.STATUS, S.CREATED, S.MODIFIED FROM REFAPP.NOTES N, REFAPP.NOTE_STATUS S WHERE N.ID = S.NOTE_ID;

CREATE VIEW REFAPP.TASKS_V
(TITLE, TASK, STATUS, CREATED, MODIFIED)
AS SELECT T.TITLE, T.TASK, S.STATUS, S.CREATED, S.MODIFIED FROM REFAPP.TASKS T, REFAPP.TASK_STATUS S WHERE T.ID = S.TASK_ID;
